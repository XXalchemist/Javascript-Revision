<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callback hell and fetch api</title>
</head>
<body>
    
    <script>
        const getTodos = (resource, callback) =>{
    const request = new XMLHttpRequest();



request.addEventListener('readystatechange', ()=>{
    if (request.readyState == 4 && request.status === 200){
        const data = JSON.parse(request.responseText);
        callback(undefined, data);
    }
    else if (request.readyState === 4){
        callback('cant fetch', undefined);
    }
});

//request.open('GET', 'https://jsonplaceholder.typicode.com/todos');

request.open('GET',resource);
request.send();
};
//callback hell example

getTodos('luigi.json', (err, data ) => {
    console.log('Luigis Data :  ', data);
    getTodos('mario.json', (err, data) => {
        console.log('Marios Data : ' ,data);
        getTodos('ninja.json' ,(err , data) => {
            console.log('Ninjas Data : ', data);
        });
    });
});
    </script>
</body>
</html>